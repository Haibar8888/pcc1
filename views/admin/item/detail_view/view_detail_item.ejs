<%- include('../../../partials/header') %>
<!-- Page Wrapper -->
<div id="wrapper">
    <!-- Sidebar -->
    <%-include('../../../partials/sidebar') %>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">
        <!-- Main Content -->
        <div id="content">
            <!-- Topbar -->
            <%- include('../../../partials/navbar') %>
            <!-- End of Topbar -->

            <!-- Begin Page Content -->
            <div class="container-fluid">
                <%- include('../../../partials/message.ejs') %>
                <!-- Page Heading -->
                <div class="card shadow mb-4">
                    <div class="card-header py-3">
                        <!-- Button trigger modal -->
                        <h2><%= title %></h2>
                    </div>
                    <div class="card-body">
                        <ul class="nav nav-tabs" id="myTab" role="tablist">
                            <li class="nav-item">
                                <a
                                    class="nav-link active"
                                    id="home-tab"
                                    data-toggle="tab"
                                    href="#show-feature"
                                    role="tab"
                                    aria-controls="home"
                                    aria-selected="true"
                                    >Show Feature</a
                                >
                            </li>
                            <li class="nav-item">
                                <a
                                    class="nav-link"
                                    id="profile-tab"
                                    data-toggle="tab"
                                    href="#show-activity"
                                    role="tab"
                                    aria-controls="profile"
                                    aria-selected="false"
                                    >Show Activity</a
                                >
                            </li>
                        </ul>
                        <div class="tab-content" id="myTabContent">
                            <div
                                class="tab-pane fade show active"
                                id="show-feature"
                                role="tabpanel"
                                aria-labelledby="home-tab"
                            >
                                <%-include('show_feature') %>
                            </div>
                            <div
                                class="tab-pane fade"
                                id="show-activity"
                                role="tabpanel"
                                aria-labelledby="profile-tab"
                            >
                                <%-include('show_activity') %>
                            </div>
                        </div>
                    </div>
                    <!-- /.container-fluid -->
                </div>
                <!-- End of Main Content -->

                <!-- Footer -->
                <%- include('../../../partials/footer') %>
                <!-- End of Footer -->
            </div>
            <!-- End of Content Wrapper -->
        </div>
        <!-- End of Page Wrapper -->

        <!-- Scroll to Top Button-->
        <a class="scroll-to-top rounded" href="#page-top">
            <i class="fas fa-angle-up"></i>
        </a>

        <!-- Logout Modal-->
        <div
            class="modal fade"
            id="logoutModal"
            tabindex="-1"
            role="dialog"
            aria-labelledby="exampleModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">
                            Ready to Leave?
                        </h5>
                        <button
                            class="close"
                            type="button"
                            data-dismiss="modal"
                            aria-label="Close"
                        >
                            <span aria-hidden="true">Ã—</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        Select "Logout" below if you are ready to end your
                        current session.
                    </div>
                    <div class="modal-footer">
                        <button
                            class="btn btn-secondary"
                            type="button"
                            data-dismiss="modal"
                        >
                            Cancel
                        </button>
                        <a class="btn btn-primary" href="login.html">Logout</a>
                    </div>
                </div>
            </div>
        </div>
        <%- include('../../../partials/js') %> <%-
        include('show_modal_update_feature') %> <%-
        include('show_modal_update_activity') %> %>
        <script>
            $(document).ready(function() {
                $('#dataTableActivity').DataTable();
            });
            $(document).ready(function() {
                $('#data').DataTable();
            });

            $('#data').on('click', '.button-edit', function() {
                let id = $(this).data('id');
                let nama = $(this).data('nama');
                let type = $(this).data('type');
                let itemId = $(this).data('itemId');

                $('#edit-modal1').modal('show');
                $('.id').val(id);
                $('.nama').val(nama);
                $('.type').val(type);
                $('.itemId').val(itemId);
            });

            $('#dataTableActivity').on('click', '.button-edit', function() {
                let id = $(this).data('id');
                let nama = $(this).data('nama');
                let qty = $(this).data('qty');
                let itemId = $(this).data('itemId');

                $('#edit-modal').modal('show');
                $('.id').val(id);
                $('.nama').val(nama);
                $('.qty').val(qty);
                $('.itemId').val(itemId);
            });
        </script>
    </div>
</div>
